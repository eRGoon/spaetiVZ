/**
 * Created by JetBrains RubyMine.
 * User: ronny
 * Date: 04.12.11
 * Time: 19:27
 * To change this template use File | Settings | File Templates.
 */
<% if @spaeti.errors.any? -%>
  /*Hide the flash notice div*/
  $("#flash_notice").hide(300);

  /*Update the html of the div spaeti_errors with the new one*/
  $("#spaeti_errors.new").html("<%= escape_javascript(error_messages_for(@spaeti))%>");

  /*Show the div spaeti_errors*/
  $("#spaeti_errors.new").show(300);
<% else -%>
  /*Hide the div spaeti_errors*/
  $("#spaeti_errors.new").hide(300);

  /*Update the html of the div flash_notice with the new one*/
  $("#flash_notice").html("<%= escape_javascript(flash[:notice])%>");

  /*Show the flash_notice div*/
  $("#flash_notice").show(300);

  /*Clear the entire form*/
  $("form.new_spaeti :input:not(input[type=submit])").val("");

  $("section#new").animate({"z-index": 20}, 0, 'linear', function() {
            $(this).empty();
            $(this).hide();
        });

  /*Replace the html of the div spaeti_list with the updated new one*/
  $("section#list").html("<%= escape_javascript( render(:partial => "spaetis") ) %>");
<% end -%>
